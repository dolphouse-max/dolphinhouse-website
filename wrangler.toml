# Cloudflare Pages configuration for this Astro project
# Do not include Worker-only keys like `main` or `workers_dev` here.

# Project name for Cloudflare Pages
name = "dolphinhouse-website"

# Pages: build output directory
pages_build_output_dir = "./dist"

# Runtime compatibility for Pages Functions
compatibility_date = "2025-09-06"
compatibility_flags = ["nodejs_compat"]

# Bindings available to Pages Functions

# KV namespace for OTP persistence
[[kv_namespaces]]
binding = "OTP_STORE"
id = "cb77a16259424309a0439b1495182822"

# D1 database binding
[[d1_databases]]
binding = "DB"
database_name = "dolphinhouse-admin"
database_id = "7fe77243-2caa-46d8-af95-a3f8a234a019"

# R2 Bucket for ID uploads
[[r2_buckets]]
binding = "ID_BUCKET"
bucket_name = "dolphin-id-storage"

# Vectorize indexes (if used by Pages Functions)
[[vectorize]]
binding = "VECTORIZE"
index_name = "dolphinhouse-rag"

[[vectorize]]
binding = "VECTORIZE_NEW"
index_name = "dolphinhouse-rag-384"

# Cloudflare AI binding
[ai]
binding = "AI"

# Global vars used by Pages Functions
[vars]
EMAIL_FROM = "contact@dolphinhouse-alibaug.com"
USE_CLOUDFLARE_REPLY = "0"   # set to "1" to use message.reply(...)
VILPOWER_TEMPLATE_ID_OTP = "1107176123434997840"
VILPOWER_SENDER_ID = "DLHNOS"
VILPOWER_PEID = "1101212580000089778"
VILPOWER_API_URL = "https://control.msg91.com/api/v5/sms"       # MSG91 SMS endpoint for DLT templates
VILPOWER_API_KEY = "473324ARxQLJ59B768ecb81bP1"

MSG91_AUTH_KEY = "473324ARxQLJ59B768ecb81bP1"
MSG91_TEMPLATE_ID = "68ee3244b19fba0551555855"                     # DLT OTP template (dolphin_booking_otp)
MSG91_OTP_API_URL = "https://api.msg91.com/api/v5/otp"             # Dedicated OTP endpoint
MSG91_EMAIL_TEMPLATE_PAYMENT_RECEIVED = "dh_booking_confirmation"
MSG91_EMAIL_DOMAIN = "mail.dolphinhouse-alibaug.com"
MSG91_EMAIL_FROM = "no-reply@mail.dolphinhouse-alibaug.com"
MSG91_EMAIL_FROM_NAME = "Dolphin House"
PRECHECKIN_URL = "https://dolphinhouse-alibaug.com/pre-checkin"
VILPOWER_TEMPLATE_ID_PAYMENT_RECEIVED = "1107176123495987139"
VILPOWER_TEMPLATE_ID_PAYMENT_PENDING = "1107176123479912391"
